{#
/**
 * @file
 * Displays the list of Meetings and Meetings Documents
 *
 * Available variables
 * - meetings: The meetings JSON data from OnBoard
 * - year:     The year for the meetings being listed
 * - years:    The available years of meetingFiles we have for the committee
 * - node:     The node object for the board page in Drupal
 *
 * @copyright 2017 City of Bloomington, Indiana
 * @license http://www.gnu.org/licenses/agpl.txt GNU/AGPL, see LICENSE.txt
 */
#}
<section>
    <header>
        <h2>
            {% set route = 'onboard.meetings.node-' ~ node.id %}
            <a href="{{ path(route, {'node':node.id, 'year':year - 1}) }}" class="back button">Back</a>
            {{ year }}
            <a href="{{ path(route, {'node':node.id, 'year':year + 1}) }}" class="next button">Next</a>
        </h2>
    </header>

    <table>
    {% for date, meeting in meetings %}
    <tr><td>{% for type, files in meeting.files %}
                {% for file in files %}
                <a href="{{ file.url }}">{{ file.title ?: file.filename }}</a>
                {% endfor %}
            {% endfor %}
        </td>
        <td>{{ date }}</td>
    </tr>
    {% endfor %}
    </table>
</section>
